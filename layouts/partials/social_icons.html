<div class="social-icons" {{ with .align}}align="{{.}}" {{- end }}>
    {{- range site.Params.socialIcons }}
        {{- if eq .name "wechat" }}
            <!-- 微信图标+二维码容器 -->
            <div class="wechat-container">
                <a href="{{ trim .url " " | safeURL }}" target="_blank" rel="noopener noreferrer me"
                    title="{{ (.title | default .name) | title }}">
                    {{ partial "svg.html" . }}
                </a>
                <!-- 二维码图片 (默认隐藏) -->
                <div class="wechat-qrcode">
                    <img src="/images/wechat-qrcode.jpg" alt="微信公众号二维码" />
                    <p>扫码关注公众号</p>
                </div>
            </div>
        {{- else }}
            <!-- 其他图标保持原有结构 -->
            <a href="{{ trim .url " " | safeURL }}" target="_blank" rel="noopener noreferrer me"
                title="{{ (.title | default .name) | title }}">
                {{ partial "svg.html" . }}
            </a>
        {{- end }}
    {{- end }}
</div>
<style>
    /* 微信图标容器 */
    .wechat-container {
        position: relative; /* 作为二维码的定位基准 */
        display: inline-block;
    }

    /* 二维码样式（默认隐藏） */
    .wechat-qrcode {
        position: absolute;
        top: 100%; /* 显示在图标上方（改为bottom:100%则在上方） */
        left: 50%;
        transform: translateX(-50%); /* 水平居中 */
        margin-bottom: 10px; /* 与图标保持距离 */
        padding: 8px;
        background: white;
        border-radius: 6px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        z-index: 10; /* 确保显示在其他元素上方 */
        display: none; /* 默认隐藏 */
        width: 180px; /* 二维码宽度 */
    }

    /* 二维码图片 */
    .wechat-qrcode img {
        width: 100%;
        height: auto;
        border-radius: 4px;
    }

    /* 二维码下方文字 */
    .wechat-qrcode p {
        margin: 6px 0 0;
        font-size: 16px;
        text-align: center;
        color: #333;
    }

    /* 鼠标hover时显示二维码 */
    .wechat-container:hover .wechat-qrcode {
        display: block;
        animation: fadeIn 0.3s ease-out; /* 淡入动画 */
    }

    /* 淡入动画 */
    @keyframes fadeIn {
        from { opacity: 0; transform: translate(-50%, 10px); }
        to { opacity: 1; transform: translate(-50%, 0); }
    }
    /* 移动端适配 */
    @media (max-width: 768px) {
      .wechat-container:hover .wechat-qrcode {
        display: none;
      }
    }
</style>